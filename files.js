const fs = require('node:fs');
const path = require('node:path');

const args = process.argv.slice(2);
if (args.length === 0) {
  console.error("Fehler: Kein Name für den Ordner übergeben!");
  process.exit(1);
}

const folderName = args[0] + "_storage";

const volumePath = "/storage/"; 
const fullPath = path.join(volumePath, folderName);

try {
  if (!fs.existsSync(volumePath)) {
    console.error(`Das Volume unter ${volumePath} wurde nicht gefunden!`);
  } else if (!fs.existsSync(fullPath)) {
    fs.mkdirSync(fullPath);
    console.log(`Ordner "${folderName}" wurde erfolgreich im Volume erstellt`);
    let inhalt = "Test123Hallo123123123123123123131231231231Hallo123123123123123123131231231231HHallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo12312312312312312313123123123131231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231HHallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo12312312312312312313123123123131231231";
    await fs.writeFile(folderName, inhalt);
  } else {
    console.log(`Ordner "${folderName}" existiert bereits im Volume`);
    let inhalt = "Test123Hallo123123123123123123131231231231Hallo123123123123123123131231231231HHallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo12312312312312312313123123123131231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231HHallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo123123123123123123131231231231Hallo12312312312312312313123123123131231231";
    await fs.writeFile(folderName, inhalt);
  }
} catch (err) {
  console.error("Fehler beim Erstellen:", err.message);
}
